import Head from 'next/head'
import Image from 'next/image'
import Link from 'next/link'
import { Menu, Transition } from '@headlessui/react'
import { Fragment, useEffect, useRef, useState } from 'react'
import { ChevronDownIcon } from '@heroicons/react/20/solid'
import styles from '@/styles/Home.module.css'

// BJONES TODO perhaps move the icon stuff to another file for drop down menus? Then this code could 
// Be more generic. However for my simple page not required for now.
const icons = [
  {
    'name': 'Home',
    'link': '/',
    'active': {
      'd': 'M3 10v11h6v-7h6v7h6v-11L12,3z',
      'viewBox': "0 0 25 25",
      'fill': '#8B5CF6',
      'stroke': '#C4B5FD',
      'strokeWidth': '1'
    },
    'inactive': {
      'd': 'M3 10v11h6v-7h6v7h6v-11L12,3z',
      'viewBox': "0 0 25 25",
      'fill': '#EDE9FE',
      'stroke': '#A78BFA',
      'strokeWidth': '1'
    }
  },
  {
    'name': 'Part Scanner',
    'link': '/partscanner',
    'active': {
      'd': "m 10.562,3.8528333 c 0.7025,-0.7025 1.405,-1.405 2.1075,-2.1075 -0.196111,-0.1958333 -0.392223,-0.3916666 -0.588334,-0.5875 -0.702222,0.7025 -1.404444,1.405 -2.1066662,2.1075 C 9.6714306,3.0084398 9.4507441,2.6160584 9.0516288,2.5049297 8.5287397,2.4061352 8.2558366,2.9303428 7.91484,3.2188958 7.534449,3.5990972 7.1540578,3.9792986 6.7736667,4.3595 6.589638,4.5760788 6.948506,4.8874752 6.6274654,5.0331199 6.1311991,5.5291355 5.634933,6.0251511 5.1386668,6.5211667 4.8945427,6.4208515 4.6197354,6.4258435 4.4651196,6.6674406 3.9009336,7.2447036 3.3104986,7.7988503 2.7630941,8.3908981 2.5083479,8.7491352 2.7242858,9.1873266 3.0335643,9.4238031 3.1860985,9.576535 3.3386327,9.7292675 3.4911669,9.882 2.7356114,10.637556 1.980056,11.393111 1.2245005,12.148667 c 0.1958333,0.195833 0.3916666,0.391666 0.5874999,0.5875 0.7555555,-0.755556 1.511111,-1.511111 2.2666665,-2.266667 0.3092572,0.268515 0.54437,0.64534 0.9268107,0.810856 0.5240597,0.162138 0.821348,-0.358682 1.1532243,-0.652784 C 6.6017399,10.17056 7.0748268,9.7386283 7.4989791,9.2658542 7.5634296,9.0657407 7.4521288,8.8038127 7.6751019,8.6813265 8.165179,8.1909955 8.655256,7.7006644 9.1453332,7.2103333 9.3929193,7.2960727 9.6333265,7.216711 9.7828956,7.002029 10.303996,6.4686971 10.851916,5.9589625 11.355632,5.4103268 11.609331,5.0519396 11.395016,4.6134039 11.085425,4.3768747 10.91095,4.2021943 10.736475,4.0275138 10.562,3.8528333 Z M 5.3570001,10.792 C 5.0728922,10.992304 4.8899601,10.596234 4.6933226,10.446656 4.1728332,9.9099158 3.616547,9.4025127 3.1186149,8.8472864 3.0705371,8.5577299 3.4060859,8.4164892 3.5594865,8.2117062 3.7050176,7.9996378 3.8504949,7.9476966 3.9958734,8.1900398 4.656249,8.8504155 5.3166245,9.5107908 5.9770001,10.171167 5.7703334,10.378111 5.5636668,10.585056 5.3570001,10.792 Z M 7.0728333,9.0761667 C 6.8933889,9.2556111 6.7139444,9.4350556 6.5345,9.6145 5.8050557,8.8850556 5.0756112,8.1556111 4.3461669,7.4261667 c 0.1697222,-0.17 0.3394444,-0.34 0.5091666,-0.51 0.2121228,0.093394 0.4635599,0.00695 0.596198,0.2252899 0.5457117,0.5454589 1.0914234,1.0909178 1.6371352,1.6363767 -0.00528,0.099444 -0.010556,0.1988889 -0.015833,0.2983334 z M 7.572,8.147 C 7.0017222,7.577 6.4314445,7.007 5.8611668,6.437 6.1161667,6.182 6.3711667,5.927 6.6261667,5.672 7.1961666,6.2417223 7.7661666,6.8114444 8.3361666,7.3811667 8.0814443,7.6364444 7.8267222,7.8917222 7.572,8.147 Z M 9.3619998,6.7878333 C 9.1203544,6.6675722 8.8791304,6.9396965 8.7333392,6.6641727 8.2170595,6.1478929 7.7007797,5.6316131 7.1845,5.1153333 7.4131673,4.9188173 7.0168842,4.5956538 7.3216649,4.451223 7.4668339,4.309922 7.6119375,4.0594963 7.7573579,4.3372966 8.4333496,5.0130311 9.1093414,5.6887655 9.7853331,6.3645 9.6442223,6.5056111 9.5031106,6.6467223 9.3619998,6.7878333 Z M 10.952,5.197 C 10.748389,5.4003333 10.544777,5.6036667 10.341166,5.807 9.6117223,5.0772778 8.8822776,4.3475556 8.1528332,3.6178333 8.383872,3.4018215 8.5878813,3.1528174 8.8371821,2.9590963 9.1263132,2.9117374 9.2677445,3.2468 9.4726438,3.3999696 9.9774123,3.9215393 10.519841,4.4125015 11.000867,4.9533672 11.034578,5.0347153 11.015578,5.1352591 10.952,5.197 Z",
      'viewBox': "0 0 15 15",
      'fill': '#8B5CF6',
      'stroke': '#C4B5FD',
      'strokeWidth': '0.5'
    },
    'inactive': {
      'd': "m 10.562,3.8528333 c 0.7025,-0.7025 1.405,-1.405 2.1075,-2.1075 -0.196111,-0.1958333 -0.392223,-0.3916666 -0.588334,-0.5875 -0.702222,0.7025 -1.404444,1.405 -2.1066662,2.1075 C 9.6714306,3.0084398 9.4507441,2.6160584 9.0516288,2.5049297 8.5287397,2.4061352 8.2558366,2.9303428 7.91484,3.2188958 7.534449,3.5990972 7.1540578,3.9792986 6.7736667,4.3595 6.589638,4.5760788 6.948506,4.8874752 6.6274654,5.0331199 6.1311991,5.5291355 5.634933,6.0251511 5.1386668,6.5211667 4.8945427,6.4208515 4.6197354,6.4258435 4.4651196,6.6674406 3.9009336,7.2447036 3.3104986,7.7988503 2.7630941,8.3908981 2.5083479,8.7491352 2.7242858,9.1873266 3.0335643,9.4238031 3.1860985,9.576535 3.3386327,9.7292675 3.4911669,9.882 2.7356114,10.637556 1.980056,11.393111 1.2245005,12.148667 c 0.1958333,0.195833 0.3916666,0.391666 0.5874999,0.5875 0.7555555,-0.755556 1.511111,-1.511111 2.2666665,-2.266667 0.3092572,0.268515 0.54437,0.64534 0.9268107,0.810856 0.5240597,0.162138 0.821348,-0.358682 1.1532243,-0.652784 C 6.6017399,10.17056 7.0748268,9.7386283 7.4989791,9.2658542 7.5634296,9.0657407 7.4521288,8.8038127 7.6751019,8.6813265 8.165179,8.1909955 8.655256,7.7006644 9.1453332,7.2103333 9.3929193,7.2960727 9.6333265,7.216711 9.7828956,7.002029 10.303996,6.4686971 10.851916,5.9589625 11.355632,5.4103268 11.609331,5.0519396 11.395016,4.6134039 11.085425,4.3768747 10.91095,4.2021943 10.736475,4.0275138 10.562,3.8528333 Z M 5.3570001,10.792 C 5.0728922,10.992304 4.8899601,10.596234 4.6933226,10.446656 4.1728332,9.9099158 3.616547,9.4025127 3.1186149,8.8472864 3.0705371,8.5577299 3.4060859,8.4164892 3.5594865,8.2117062 3.7050176,7.9996378 3.8504949,7.9476966 3.9958734,8.1900398 4.656249,8.8504155 5.3166245,9.5107908 5.9770001,10.171167 5.7703334,10.378111 5.5636668,10.585056 5.3570001,10.792 Z M 7.0728333,9.0761667 C 6.8933889,9.2556111 6.7139444,9.4350556 6.5345,9.6145 5.8050557,8.8850556 5.0756112,8.1556111 4.3461669,7.4261667 c 0.1697222,-0.17 0.3394444,-0.34 0.5091666,-0.51 0.2121228,0.093394 0.4635599,0.00695 0.596198,0.2252899 0.5457117,0.5454589 1.0914234,1.0909178 1.6371352,1.6363767 -0.00528,0.099444 -0.010556,0.1988889 -0.015833,0.2983334 z M 7.572,8.147 C 7.0017222,7.577 6.4314445,7.007 5.8611668,6.437 6.1161667,6.182 6.3711667,5.927 6.6261667,5.672 7.1961666,6.2417223 7.7661666,6.8114444 8.3361666,7.3811667 8.0814443,7.6364444 7.8267222,7.8917222 7.572,8.147 Z M 9.3619998,6.7878333 C 9.1203544,6.6675722 8.8791304,6.9396965 8.7333392,6.6641727 8.2170595,6.1478929 7.7007797,5.6316131 7.1845,5.1153333 7.4131673,4.9188173 7.0168842,4.5956538 7.3216649,4.451223 7.4668339,4.309922 7.6119375,4.0594963 7.7573579,4.3372966 8.4333496,5.0130311 9.1093414,5.6887655 9.7853331,6.3645 9.6442223,6.5056111 9.5031106,6.6467223 9.3619998,6.7878333 Z M 10.952,5.197 C 10.748389,5.4003333 10.544777,5.6036667 10.341166,5.807 9.6117223,5.0772778 8.8822776,4.3475556 8.1528332,3.6178333 8.383872,3.4018215 8.5878813,3.1528174 8.8371821,2.9590963 9.1263132,2.9117374 9.2677445,3.2468 9.4726438,3.3999696 9.9774123,3.9215393 10.519841,4.4125015 11.000867,4.9533672 11.034578,5.0347153 11.015578,5.1352591 10.952,5.197 Z",
      'viewBox': "0 0 15 15",
      'fill': '#EDE9FE',
      'stroke': '#A78BFA',
      'strokeWidth': '0.5'
    }
  },
  {
    'name': 'Blog',
    'link': '/blog',
    'active': {
      'd': "M5.582 20.054l14.886-14.886 6.369 6.369-14.886 14.886-6.369-6.369zM21.153 8.758l-0.698-0.697-11.981 11.98 0.698 0.698 11.981-11.981zM22.549 10.154l-0.698-0.698-11.981 11.982 0.697 0.697 11.982-11.981zM23.945 11.55l-0.698-0.698-11.981 11.981 0.698 0.698 11.981-11.981zM23.319 2.356c0.781-0.783 2.045-0.788 2.82-0.013l3.512 3.512c0.775 0.775 0.77 2.038-0.012 2.82l-2.17 2.17-6.32-6.32 2.17-2.169zM5.092 20.883l6.030 6.030-5.284 1.877-2.623-2.623 1.877-5.284zM4.837 29.117l-3.066 1.117 1.117-3.066 1.949 1.949z",
      'viewBox': "0 0 35 35",
      'fill': '#8B5CF6',
      'stroke': '#C4B5FD',
      'strokeWidth': '1'
    },
    'inactive': {
      'd': "M5.582 20.054l14.886-14.886 6.369 6.369-14.886 14.886-6.369-6.369zM21.153 8.758l-0.698-0.697-11.981 11.98 0.698 0.698 11.981-11.981zM22.549 10.154l-0.698-0.698-11.981 11.982 0.697 0.697 11.982-11.981zM23.945 11.55l-0.698-0.698-11.981 11.981 0.698 0.698 11.981-11.981zM23.319 2.356c0.781-0.783 2.045-0.788 2.82-0.013l3.512 3.512c0.775 0.775 0.77 2.038-0.012 2.82l-2.17 2.17-6.32-6.32 2.17-2.169zM5.092 20.883l6.030 6.030-5.284 1.877-2.623-2.623 1.877-5.284zM4.837 29.117l-3.066 1.117 1.117-3.066 1.949 1.949z",
      'viewBox': "0 0 35 35",
      'fill': '#EDE9FE',
      'stroke': '#A78BFA',
      'strokeWidth': '1'
    }
  },
  {
    'name': 'About me',
    'link': '/about',
    'active': {
      'd': "M129.49 114.51C129.121 116.961 128.187 119.293 126.762 121.322C125.337 123.351 123.461 125.021 121.28 126.2C120.676 126.535 120.043 126.816 119.39 127.04C120.22 138.04 102.74 142.04 93.32 139.42L96.82 151.66L87.82 151.98L72.07 129.43C66.76 130.93 60.49 131.65 56.44 125.15C56.0721 124.553 55.7382 123.935 55.44 123.3C54.4098 123.51 53.3614 123.617 52.31 123.62C49.31 123.62 44.31 122.72 41.77 120.96C39.7563 119.625 38.1588 117.75 37.16 115.55C31.75 116.29 27.16 115.02 24.16 111.88C20.36 107.97 19.28 101.51 21.26 94.58C23.87 85.33 31.81 74.91 47.59 71C48.9589 69.2982 50.5972 67.8322 52.44 66.66C62.35 60.31 78.44 59.76 90.65 65.79C95.3836 64.9082 100.27 65.376 104.75 67.14C113.53 70.43 119.91 77.31 121.11 84.3C123.487 85.5317 125.433 87.4568 126.69 89.82C129.32 94.76 129.69 99.71 127.92 103.71C129.587 107.049 130.138 110.835 129.49 114.51ZM123.01 109.31C121.612 110.048 120.056 110.434 118.475 110.434C116.894 110.434 115.338 110.048 113.94 109.31L114.67 104.46C117.75 104.76 120.26 103.8 121.57 101.83C123.04 99.64 122.81 96.39 120.95 92.9C118.87 88.99 114.38 88.37 111.89 88.34H111.73C105.49 88.34 99.13 91.89 96.56 96.52L92.82 94.73C93.5553 92.3449 94.8046 90.15 96.48 88.3C95.0376 87.0754 93.9474 85.4887 93.3217 83.703C92.696 81.9173 92.5574 79.9971 92.92 78.14L96.61 77.8C96.7789 79.302 97.4 80.7172 98.3911 81.8583C99.3822 82.9994 100.697 83.8125 102.16 84.19C105.238 82.8161 108.58 82.1335 111.95 82.19C112.43 82.19 112.89 82.24 113.36 82.27C110.969 78.0312 107.18 74.7545 102.64 73C91.56 68.7 84.09 75.37 82.38 77.67C78.26 83.19 80.9 88.41 82.91 91.8L79.61 94.8C76.736 92.314 74.8075 88.9127 74.15 85.17C69.92 86.44 64.24 86.17 61.06 80.74L64.06 78.68C67.43 81.2 72.78 80.98 75.32 77.87C75.9252 76.4949 76.6905 75.1959 77.6 74C79.044 72.093 80.7864 70.4316 82.76 69.08C74.47 66.82 62.76 67.19 55.68 71.73C53.7668 72.841 52.192 74.4517 51.1244 76.3895C50.0569 78.3274 49.5368 80.5192 49.62 82.73C49.62 86.3 52.42 91.94 56.19 92.82L54 97.07C51.5946 96.5129 49.4109 95.2487 47.73 93.44L44.48 97.58L41.23 96L44.41 87.68C43.8904 86.064 43.624 84.3774 43.62 82.68C43.628 81.3361 43.7687 79.9963 44.04 78.68C34.04 82.81 29.1 89.68 27.29 95.96C25.9 100.79 26.44 105.15 28.72 107.49C30.53 109.35 33.3 109.79 35.91 109.62L42.91 104.17L45.21 106.11L43.13 112.93C44.22 116.4 47.79 118.19 54.3 116.93C54.6375 114.169 55.7272 111.554 57.45 109.37C58.7133 107.552 60.3846 106.056 62.33 105L65.75 95.79L69.17 95.64L68.8 103.19C74.55 102.6 80.98 103.77 86.97 102.87L88.07 106.87C79.29 110.93 70.3 104.31 62.15 113.04C59.22 116.18 60.34 118.91 62.15 121.66C64.76 125.59 69.66 123.23 74.67 121.66C82.26 119.34 87.77 117.66 98.16 118.51C95.68 113.8 95.92 108.11 99.24 101.85L104.13 103.78C100.7 111.69 103.91 116.27 106.13 118.29C109.56 121.41 114.72 122.35 118.13 120.47C119.436 119.749 120.559 118.737 121.412 117.513C122.265 116.289 122.825 114.885 123.05 113.41C123.275 112.051 123.258 110.663 123 109.31H123.01Z",
      'viewBox': "10 50 130 130",
      'fill': '#8B5CF6',
      'stroke': '#C4B5FD',
      'strokeWidth': '4'
    },
    'inactive': {
      'd': "M129.49 114.51C129.121 116.961 128.187 119.293 126.762 121.322C125.337 123.351 123.461 125.021 121.28 126.2C120.676 126.535 120.043 126.816 119.39 127.04C120.22 138.04 102.74 142.04 93.32 139.42L96.82 151.66L87.82 151.98L72.07 129.43C66.76 130.93 60.49 131.65 56.44 125.15C56.0721 124.553 55.7382 123.935 55.44 123.3C54.4098 123.51 53.3614 123.617 52.31 123.62C49.31 123.62 44.31 122.72 41.77 120.96C39.7563 119.625 38.1588 117.75 37.16 115.55C31.75 116.29 27.16 115.02 24.16 111.88C20.36 107.97 19.28 101.51 21.26 94.58C23.87 85.33 31.81 74.91 47.59 71C48.9589 69.2982 50.5972 67.8322 52.44 66.66C62.35 60.31 78.44 59.76 90.65 65.79C95.3836 64.9082 100.27 65.376 104.75 67.14C113.53 70.43 119.91 77.31 121.11 84.3C123.487 85.5317 125.433 87.4568 126.69 89.82C129.32 94.76 129.69 99.71 127.92 103.71C129.587 107.049 130.138 110.835 129.49 114.51ZM123.01 109.31C121.612 110.048 120.056 110.434 118.475 110.434C116.894 110.434 115.338 110.048 113.94 109.31L114.67 104.46C117.75 104.76 120.26 103.8 121.57 101.83C123.04 99.64 122.81 96.39 120.95 92.9C118.87 88.99 114.38 88.37 111.89 88.34H111.73C105.49 88.34 99.13 91.89 96.56 96.52L92.82 94.73C93.5553 92.3449 94.8046 90.15 96.48 88.3C95.0376 87.0754 93.9474 85.4887 93.3217 83.703C92.696 81.9173 92.5574 79.9971 92.92 78.14L96.61 77.8C96.7789 79.302 97.4 80.7172 98.3911 81.8583C99.3822 82.9994 100.697 83.8125 102.16 84.19C105.238 82.8161 108.58 82.1335 111.95 82.19C112.43 82.19 112.89 82.24 113.36 82.27C110.969 78.0312 107.18 74.7545 102.64 73C91.56 68.7 84.09 75.37 82.38 77.67C78.26 83.19 80.9 88.41 82.91 91.8L79.61 94.8C76.736 92.314 74.8075 88.9127 74.15 85.17C69.92 86.44 64.24 86.17 61.06 80.74L64.06 78.68C67.43 81.2 72.78 80.98 75.32 77.87C75.9252 76.4949 76.6905 75.1959 77.6 74C79.044 72.093 80.7864 70.4316 82.76 69.08C74.47 66.82 62.76 67.19 55.68 71.73C53.7668 72.841 52.192 74.4517 51.1244 76.3895C50.0569 78.3274 49.5368 80.5192 49.62 82.73C49.62 86.3 52.42 91.94 56.19 92.82L54 97.07C51.5946 96.5129 49.4109 95.2487 47.73 93.44L44.48 97.58L41.23 96L44.41 87.68C43.8904 86.064 43.624 84.3774 43.62 82.68C43.628 81.3361 43.7687 79.9963 44.04 78.68C34.04 82.81 29.1 89.68 27.29 95.96C25.9 100.79 26.44 105.15 28.72 107.49C30.53 109.35 33.3 109.79 35.91 109.62L42.91 104.17L45.21 106.11L43.13 112.93C44.22 116.4 47.79 118.19 54.3 116.93C54.6375 114.169 55.7272 111.554 57.45 109.37C58.7133 107.552 60.3846 106.056 62.33 105L65.75 95.79L69.17 95.64L68.8 103.19C74.55 102.6 80.98 103.77 86.97 102.87L88.07 106.87C79.29 110.93 70.3 104.31 62.15 113.04C59.22 116.18 60.34 118.91 62.15 121.66C64.76 125.59 69.66 123.23 74.67 121.66C82.26 119.34 87.77 117.66 98.16 118.51C95.68 113.8 95.92 108.11 99.24 101.85L104.13 103.78C100.7 111.69 103.91 116.27 106.13 118.29C109.56 121.41 114.72 122.35 118.13 120.47C119.436 119.749 120.559 118.737 121.412 117.513C122.265 116.289 122.825 114.885 123.05 113.41C123.275 112.051 123.258 110.663 123 109.31H123.01Z",
      'viewBox': "10 50 130 130",
      'fill': '#EDE9FE',
      'stroke': '#A78BFA',
      'strokeWidth': '4'
    }
  }
]
export default function JBMenu() {
  return (
    <div className="w-56 text-right">
      <Menu>
        <div>
          <Menu.Button className="inline-flex w-full justify-center rounded-md bg-black bg-opacity-50 px-4 py-2 text-base font-medium text-white hover:bg-opacity-100 focus:outline-none focus-visible:ring-2 focus-visible:ring-white focus-visible:ring-opacity-75">
            Menu
            <ChevronDownIcon
              className="ml-2 -mr-1 h-5 w-5 text-violet-200 hover:text-violet-100"
              aria-hidden="true"
            />
          </Menu.Button>
        </div>
        <Transition
          as={Fragment}
          enter="transition ease-out duration-300"
          enterFrom="transform opacity-0 scale-95"
          enterTo="transform opacity-100 scale-100"
          leave="transition ease-in duration-75"
          leaveFrom="transform opacity-100 scale-100"
          leaveTo="transform opacity-0 scale-95"
        >
          <Menu.Items className="absolute w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">
            {icons.map((icon) => (
              <Menu.Item key={icon.name} as={Fragment}>
                {({ active }) => (
                  <Link href={icon.link}>
                  <button
                    className={`${active ? 'bg-violet-500 text-white' : 'text-gray-900'
                      } group flex w-full items-center rounded-md px-2 py-2 text-base`}
                  >
                    <svg
                      className="mr-2 h-10 w-10"
                      aria-hidden="true"
                      viewBox={icon.active.viewBox}
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      {active ? (
                        <path
                          d={icon.active.d}
                          fill={icon.active.fill}
                          stroke={icon.active.stroke}
                          strokeWidth={icon.active.strokeWidth}
                        />
                      ) : (
                        <path
                          d={icon.inactive.d}
                          fill={icon.inactive.fill}
                          stroke={icon.inactive.stroke}
                          strokeWidth={icon.inactive.strokeWidth}
                        />

                      )}
                    </svg>
                    {icon.name}
                  </button>
                  </Link>
                )}
              </Menu.Item>
            ))}
          </Menu.Items>
        </Transition>
      </Menu>
    </div>
  )
}

//<Menu.Items className="absolute right-0 mt-2 w-56 origin-top-right divide-y divide-gray-100 rounded-md bg-white shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none">